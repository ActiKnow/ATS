@model ATS.Core.Model.UserCredentialModel
@{
    ViewBag.Title = "Home Page";
}

<section class="material-half-bg">
    <div class="cover"></div>
</section>
<section class="login-content">
    <div class="logo">
        <h1>ATS</h1>
    </div>
    <div class="login-box">
        @using (Html.BeginForm("ValidateLogin", "Home", FormMethod.Post, new { @class = "login-form" }))
        {
            @Html.HiddenFor(x => x.ReturnUrl)
            <h3 class="login-head"><i class="fa fa-lg fa-fw fa-user"></i>SIGN IN</h3>
            <div class="form-group">
                <label class="control-label">USERNAME</label>
                @Html.TextBoxFor(x => x.EmailId, new { @class = "form-control", @placeholder = "Email", @autofocus = "autofocus" })
            </div>
            <div class="form-group">
                <label class="control-label">PASSWORD</label>
                @Html.TextBoxFor(x => x.CurrPassword, new { @class = "form-control", @placeholder = "Password", @autofocus = "autofocus", @type = "password" })
            </div>
            <div class="form-group">
                <div class="utility">
                    <div class="animated-checkbox">
                        <label>
                            <input type="checkbox" name="RememberMe" id="RememberMe" value="@Model.RememberMe"><span class="label-text">Stay Signed in</span>
                        </label>
                    </div>
                    <p class="semibold-text mb-2"><a href="#" data-toggle="flip">Forgot Password ?</a></p>
                </div>
            </div>
            <div class="form-group btn-container">
                <button class="btn btn-primary btn-block"><i class="fa fa-sign-in fa-lg fa-fw"></i>SIGN IN</button>
            </div>
            <div class="form-group">
                <input type="hidden" id="isError" value="@ViewBag.Error" />
            </div>
        }

        @using (Html.BeginForm("ValidateUser", "Home", FormMethod.Post, new { @class = "forget-form" }))
        {
            <h3 class="login-head"><i class="fa fa-lg fa-fw fa-lock"></i>Forgot Password ?</h3>
            <div class="form-group">
                <label class="control-label">EMAIL</label>
                <input class="form-control" type="text" placeholder="Email">
            </div>
            <div class="form-group btn-container">
                <button class="btn btn-primary btn-block"><i class="fa fa-unlock fa-lg fa-fw"></i>RESET</button>
            </div>
            <div class="form-group mt-3">
                <p class="semibold-text mb-0"><a href="#" data-toggle="flip"><i class="fa fa-angle-left fa-fw"></i> Back to Login</a></p>
            </div>
        }
    </div>
</section>
@section css{
    <style>
        .notify-alert {
            width: 80%;
        }
    </style>
}
@section scripts{
    <script>
        $('#RememberMe').click(function () {
            if (!$(this).is(':checked')) {
                $(this).val(false);
            }
            else {
                $(this).val(true);
            }
        });
    </script>
    <script>
        var errorMsg = $('#isError').val();
        if (errorMsg && errorMsg != "") {
            $.notify
                (
                {
                    title: "Error : ",
                    message: errorMsg,
                    icon: 'fa fa-exclamation-triangle'
                },
                {
                    type: "danger",
                    allow_dismiss: true,
                    delay: 30000,                   
                    mouse_over: "pause",
                    animate: {
                        enter: 'animated fadeInDown',
                        exit: 'animated fadeOutUp'
                    },
                }
                );
        }
    </script>
}